### íˆìŠ¤í† ê·¸ë¨
  - ì˜ìƒì„ êµ¬ì„±í•˜ëŠ” í”½ì…€ë“¤ì˜ ë¹ˆë„ìˆ˜ë¥¼ ì¸¡ì •í•˜ì—¬ ê·¸ë˜í”„(íˆìŠ¤í† ê·¸ë¨)ìœ¼ë¡œ í‘œí˜„
  ![image](https://user-images.githubusercontent.com/76146752/117093908-412ef800-ad9d-11eb-9692-f34d9a7ef97e.png)

  - 'cv2.calcHist(images,channels,mask,histSize,ranges, hist=None, accumulate=None)'
      - images : íˆìŠ¤í† ê·¸ë¨ì„ êµ¬í•  ì…ë ¥ì˜ìƒ ë¦¬ìŠ¤íŠ¸
      - channels: íˆìŠ¤í† ê·¸ë¨ì„ êµ¬í•  ì±„ë„ ë¦¬ìŠ¤íŠ¸
      - mask: ë§ˆìŠ¤í¬ ì˜ìƒ. ì˜ìƒì „ì²´ì¼ ê²½ìš° None ì§€ì •
      - hisSize: íˆìŠ¤í† ê·¸ë¨ ê° ì±„ë„ì˜ binì˜ ê°œìˆ˜ ë¦¬ìŠ¤íŠ¸
      - ranges : íˆìŠ¤í† ê·¸ë¨ ê° ì±„ë„ì˜ ìµœì†Ÿê°’ê³¼ ìµœëŒ€ê°’ ë¦¬ìŠ¤íŠ¸

  ``` python
      import cv2
      import matplotlib.pyplot as plt
      lenna_gray = cv2.imread('./images/lenna.bmp',cv2.IMREAD_GRAYSCALE) # cv2.IMREAD_GRAYSCALE: í‘ë°±ëª¨ë“œì½ê¸°
      
      hist = cv2.calcHist([lenna_gray], # íˆìŠ¤í† ê·¸ë¨ì„ ê³„ì‹¼í•  ì´ë¯¸ì§€ (ndarray) - ë¦¬ìŠ¤íŠ¸
                          [0], # ì±„ë„ì§€ì •
                          None, # ë§ˆìŠ¤í¬ ì˜ìƒ, None-ì „ì²´ëŒ€ìƒ
                          [256], # bin ê°œìˆ˜
                          [0,256] # ê°’ì˜ ë²”ìœ„ - 0~256
                          )
       
       import numpy as np
       plt.figure(figsize=(7,6))
       plt.bar(np.arange(hist.size),hist.flatten())
       plt.show()
   ```
 ![image](https://user-images.githubusercontent.com/76146752/117094804-bbf91280-ad9f-11eb-9879-6319bcceb9f3.png)
  
  
  
  - ì»¬ëŸ¬ ì´ë¯¸ì§€ì˜ histogram
  - ì±„ë„ë³„ë¡œ ë”°ë¡œ ê·¸ë¦°ë‹¤

  ``` python
      lenna = cv2.imread('images/lenna.bmp')
      color_label = ['blue','green','red']
      #ì±„ë„ ë¶„ë¦¬
      bgr_channel = cv2.split(lenna)
      
      plt.figure(figsize=(10,6))
      for channel, color in zip(bgr_channel, color_label):
        hist = cv2.calcHist([channel],[0],None,[256, ],[0,256])
        plt.plot(np.arange(hist.size),hist.flatten(), color=color, label=color)
      plt.legend()
      plt.xlabel('í”½ì…€ê°’')
      plt.ylabel('ê°œìˆ˜')
      plt.show()
  ```
![image](https://user-images.githubusercontent.com/76146752/117095706-08dde880-ada2-11eb-8830-775465ef3df5.png)     
      

### ë°ê¸° ì¡°ì ˆí•˜ê¸°(brightness)
  - ì˜ìƒì„ ì „ì²´ì ìœ¼ë¡œ ë°ê²Œ ë˜ëŠ” ì–´ë‘¡ê²Œ ë§Œë“œëŠ” ì—°ì‚°
  - ë°ê¸° ì¡°ì ˆ ìˆ˜ì‹
      - ì›ë³¸ì¢Œí‘œ(x,y) + n
      - nì´ ì–‘ìˆ˜ë©´ ê° ì¢Œí‘œì˜ í”½ì…€ê°’ì´ ì»¤ì§€ë¯€ë¡œ ë°ì•„ì§„ë‹¤
      - nì´ ìŒìˆ˜ì´ë©´ ê° ì¢Œí‘œì˜ í”½ì…€ê°’ì´ ì‘ì•„ì§€ë¯€ë¡œ ì–´ë‘ì›Œì§„ë‹¤
     ![image](https://user-images.githubusercontent.com/76146752/117097888-db943900-ada7-11eb-98ed-5b15ed662437.png)

  - `cv2.add(src1,src2)
      - ë°ê¸° ì¡°ì ˆì´ë‚˜ ë‘ ì˜ìƒì„ í•©ì¹˜ê¸°ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
      - src1: ì²«ë²ˆì§¸ ì˜ìƒ ë˜ëŠ” ìŠ¤ì¹¼ë¼
      - src2: ë‘ë²ˆì§¸ ì˜ìƒ ë˜ëŠ” ìŠ¤ì¹¼ë¼
      - src2ë¥¼ src1ì— ë”í•œë‹¤
  - pixelì— ìŠ¤ì¹¼ë¼ ê°’ì„ ë”í•˜ê±°ë‚˜ ë¹¼ë©´ 0\~255ì˜ ë²”ìœ„ë¥¼ ë„˜ì–´ì„¤ ìˆ˜ ìˆë‹¤. ndarrayì˜ typeì€ uint8(unsigned int8)ë¡œ 0\~255ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ëŠ” ìˆ«ìëŠ” ìˆœí™˜ë˜ì–´ ë²„ë¦°ë‹¤
      - ê³„ì‚°ê²°ê³¼ê°€ 0ì´í•˜ê°€ ë˜ë©´ 255ë¡œë¶€í„° ì‘ì•„ì§€ê²Œ ë˜ê³  255ê°€ ë„˜ì–´ê°€ë©´ 0ìœ¼ë¡œ ê°€ì„œ ì»¤ì§€ê²Œ ëœë‹¤
      - ê·¸ë˜ì„œ cv2.add()í•¨ìˆ˜ëŠ” ê°’ì´ ìˆœí™˜ë˜ì§€ ì•Šë„ë¡ 0ì´í•˜ì˜ ê°’ì€ 0ìœ¼ë¡œ 255ì´ìƒì˜ ê°’ì€ 255ê°€ ë˜ë„ë¡ ì²˜ë¦¬í•œë‹¤ ì´ê²ƒì„ **saturateì—°ì‚°**ì´ë¼ê³  í•œë‹¤

![image](https://user-images.githubusercontent.com/76146752/117099251-a8ec3f80-adab-11eb-8d0d-6f7adea28167.png)

``` import numpy as np
    import cv2
    import matplotlib.pyplot as plt
    
    # í‘ë°±
    src = cv2.imread('images/penguin.jpg',cv2.IMREAD_GRAYSCALE)
    dst1 = cv2.add(src, 100) # ê° pixel ê°’ë“¤ì— 100ì„ ë”í•¨. ê³„ì‚° ê²°ê³¼ê°€ 0 ì´í•˜ëŠ” 0, 255 ì´ìƒì€ 255 ì²˜ë¦¬
    dst2 = cv2.add(src, -100)
    
    cv2.imshow('src',src)
    cv2.imshow('dst1',dst1)
    cv2.imshow('dst2',dst2)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
    
    hist_src = cv2.calcHist([src],[0],None,[256],[0,256])
    plt.plot(hist_src)
    plt.show()
    
```
![image](https://user-images.githubusercontent.com/76146752/117173379-a91a2880-ae07-11eb-9983-c908e7b43373.png)

``` python
    hist_dst1 = cv2.calcHist([dst1],[0],None,[256],[0,256])
    plt.plot(hist_dst1)
    plt.show()
    # 100ì”© ë”í•˜ë©´ 255 ë„˜ëŠ” ê°’ì´ ë§ì•„ì ¸ ëŒ€ë¶€ë¶„ 255 
```
![image](https://user-images.githubusercontent.com/76146752/117173506-ccdd6e80-ae07-11eb-98ca-97832b20512b.png)

``` python
    hist_dst2 = cv2.calcHist([dst2],[0],None,[256],[0,256])
    plt.plot(hist_dst2)
    plt.show()
    # 100ì”© ë¹¼ë©´ 0ë³´ë‹¤ ì‘ì€ ê°’ì€ 0ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ì„œ 0ì´ ë§ì•„ì§
```
![image](https://user-images.githubusercontent.com/76146752/117175258-9acd0c00-ae09-11eb-8bd6-ec05748c20e6.png)

``` python
    # dst3 = src+100
    # src: uint8(ë¶€í˜¸ê°€ ì—†ëŠ” ì •ìˆ˜ ,8bit - 0~255) - ê³„ì‚° ê²°ê³¼ê°€ 255ê°€ ìŒìˆ˜ì¼ ê²½ìš°: ê³„ì‚° ê²°ê³¼ +255, 255ë³´ë‹¤ í´ ê²½ìš° ê²°ê³¼-255
    dst3 = np.clip(src+100,0,255).astype(np.uint8) # or cv2.add(src,100.) 100ì´ ì•„ë‹ˆë¼ 100.ìœ¼ë¡œ ë°”ê¿”ì„œ float ìƒíƒœë¡œ ì—°ì‚°ì„ í•´ì•¼í•¨
    
    cv2.imshow('dst3',dst3)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
```

### ëª…ì•”ë¹„(Contrast)ì¡°ì •
  ### ëª…ì•”ë¹„/ëŒ€ë¹„(Contrast)ë€
   - ë°ì€ ë¶€ë¶„ê³¼ ì–´ë‘ìš´ ë¶€ë¶„ ì‚¬ì´ì˜ ë°ê¸°ì˜ ì •ë„ ì°¨ì´
      - ì˜ìƒì´ ì „ì²´ì ìœ¼ë¡œ ë°ì€ í”½ì…€ë“¤ë¡œë§Œ êµ¬ì„±ë˜ê±°ë‚˜ ì–´ë‘ìš´ í”½ì…€ë“¤ë¡œë§Œ êµ¬ì„±ë˜ë©´ ëª…ì•”ë¹„ê°€ ë‚®ë‹¤ê³  í‘œí˜„í•œë‹¤
      - ì˜ìƒì— ë°ì€ ì˜ì—­ê³¼ ì–´ë‘ìš´ ì˜ì—­ì´ ê³¨ê³ ë£¨ ì„ì—¬ìˆìœ¼ë©´ ëª…ì•”ë¹„ê°€ ë†’ë‹¤ê³  í‘œí˜„í•œë‹¤
   - ëª…ì•”ë¹„ê°€ ë‚®ìœ¼ë©´ ê°ì²´ê°„ì˜ êµ¬ë¶„ì´ ë˜ì§€ ì•Šì•„ íë¦¿í•œ ëŠë‚Œì´ ë‚˜ê³  ëª…ì•”ë¹„ê°€ ë†’ìœ¼ë©´ ì„ ëª…í•œ ëŠë‚Œì´ ë“ ë‹¤
   ![image](https://user-images.githubusercontent.com/76146752/117176178-8e957e80-ae0a-11eb-9974-8d12d0551a3c.png)

   - ëª…ì•”ë¹„ë¥¼ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ ê³µì‹
           ğ‘”(ğ‘¥,ğ‘¦)=ğ‘“(ğ‘¥,ğ‘¦)+(ğ‘“(ğ‘¥,ğ‘¦)âˆ’128)ğ›¼
                      ==
              (1+ğ›¼)ğ‘“(ğ‘¥,ğ‘¦)âˆ’ğ›¼128
   - gëŠ” ê²°ê³¼ image
   - fëŠ” ì›ë³¸ image
   - x: xì¢Œí‘œ
   - y: yì¢Œí‘œ
   - ğ›¼ : ëŒ€ë¹„ë¥¼ ì¡°ì ˆí•˜ëŠ” ê°’
      - 0: ì›ë³¸ê³¼ ë™ì¼
      - ìŒìˆ˜: ëª…ì•”ë¹„ë¥¼ ë‚®ì¶˜ë‹¤
      - ì–‘ìˆ˜: ëª…ì•”ë¹„ë¥¼ ë†’ì¸ë‹¤
    ![image](https://user-images.githubusercontent.com/76146752/117176336-bf75b380-ae0a-11eb-9815-59b95d71fbca.png)

``` python
    # ëª…ì•”ë¹„ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
    def change_contrast(image, alpha=0.0)
      return np.clip(1.0+alpha) * image - alpha*128,0,255).astype(np.uint8)
      
    a = np.aranget(256)
    b1 = change_contrast(a)
    b2 = change_contrast(a,-0.5)
    b3 = change_contrast(a,1)
    
    import matplotlib.pyplot as plt
    plt.plot(b1, linestyle='-', label = 'alpha=0')
    plt.plot(b2, linestyle='-',label = 'alpha=-0.5')
    plt.plot(b3, linestyle='-',label='alpha=1')
    
    plt.legend()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117176859-4d519e80-ae0b-11eb-877c-978b78d48501.png)
     
``` python
    plt.figure(figsize=(15,15))
    row, col = 1,3
    plt.subplot(row, col, 1)
    plt.imshow(lenna_gray, cmap='gray')
    plt.title('ì›ë³¸')

    plt.subplot(row, col,2)
    plt.imshow(lenna_alpha1, cmap='gray')
    plt.title('alpha 1')

    plt.subplot(row,col,3)
    plt.imshow(lenna_alpha2, cmap='gray')
    plt.title('alpha -0.5')

    plt.show()    
```
![image](https://user-images.githubusercontent.com/76146752/117176963-6eb28a80-ae0b-11eb-8a3d-d074180883cf.png)

``` python
    # color
    lenna = cv2.imread('./images/lenna.bmp')
    lenna_alpha1 = change_contrast(lenna,alpha=1.0)
    lenna_alpha2 = change_contrast(lenna, alpha=-0.5)
    
    
    plt.figure(figsize=(20,20))
    row, col = 1,3
    plt.subplot(row, col, 1)
    plt.imshow(cv2.cvtColor(lenna,cv2.COLOR_BGR2RGB))
    plt.title('ì›ë³¸')

    plt.subplot(row, col,2)
    plt.imshow(cv2.cvtColor(lenna_alpha1,cv2.COLOR_BGR2RGB))
    plt.title('alpha 1')

    plt.subplot(row,col,3)
    plt.imshow(cv2.cvtColor(lenna_alpha2,cv2.COLOR_BGR2RGB))
    plt.title('alpha -0.5')

    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117177069-9144a380-ae0b-11eb-8114-7281b4857991.png)

### ì±„ë„(Saturation) ë³€í™˜
  - ì±„ë„: ìƒ‰ì˜ ì„ ëª…ë„ë¥¼ ë§í•œë‹¤
  - ì±„ë„ë¥¼ ë³€í™˜í•  ë•ŒëŠ” HSV color íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•œ ë’¤ Sì˜ ê°’ì„ ë°”ê¾¼ë‹¤
    > HSV : ìƒ‰ìƒ(Hue), ì±„ë„(Saturation), ëª…ë„(Value)
    
``` python
    lenna = cv2.imread('./images/lenna.bmp')

    # BGR -> HSV
    lenna_hsv = cv2.cvtColor(lenna, cv2.COLOR_BGR2HSV)
    lenna_hsv_low_sat = lenna_hsv.copy()
    lenna_hsv_high_sat = lenna_hsv.copy()
    
    # ì±„ë„ ë³€ê²½: S + ì •ìˆ˜ ( ì±„ë„ ë†’ì´ê¸° ) , S - ì •ìˆ˜ ( ì±„ë„ ë‚®ì¶”ê¸° )
    def change_saturation(image, sat):
        image = image.astype(np.float32)
        image[:,:,1] = np.clip(image[:,:,1]+sat,0,255) #ì±„ë„ë³€í™˜
        image = image.astype(np.uint8)
        
        return cv2.cvtColor(image, cv2.COLOR_HSV2RGB) # matplotlibì—ì„œ ì¶œë ¥í•˜ê¸° ìœ„í•´ RGBë¡œ ë³€í™˜
    
    plt.figure(figsize=(20,20))
    row, col = 1,3
    plt.subplot(row, col, 1)
    plt.imshow(lenna[:,:,::-1])
    plt.title('ì›ë³¸')

    plt.subplot(row, col, 2)
    plt.imshow(lenna_rgb_low_sat)
    plt.title('ë‚®ì€ì±„ë„ -50')

    plt.subplot(row,col,3)
    plt.imshow(lenna_rgb_high_sat)
    plt.title('ë†’ì€ì±„ë„ 50')

    plt.tight_layout()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117177701-4b3c0f80-ae0c-11eb-9ec2-8dc2374746f6.png)

### Filter
  #### Filtering ê°œìš”
   - ì˜ìƒì—ì„œ í•„ìš”í•œ ì •ë³´ë©´ í†µê³¼ì‹œí‚¤ê³  í•„ìš”ì—†ëŠ” ì •ë³´ëŠ” ê±¸ëŸ¬ë‚´ëŠ” ì‘ì—…ì„ ë§í•œë‹¤
   - N x N í–‰ë ¬ì„ ì˜ìƒê³¼ Convolution ì—°ì‚°ì„ í•˜ì—¬ ì²˜ë¦¬
      - ì˜ìƒê³¼ ì—°ì‚°í•˜ëŠ” N x N í–‰ë ¬ì„ ì»¤ë„(Kernel), ë§ˆìŠ¤í¬(Mask), ìœˆë„ìš°(Window)ë¼ê³  í•œë‹¤
      - Convolution ì—°ì‚°
          - Filterë¥¼ ì˜ìƒì„ ì´ë™í•˜ë©´ì„œ ê°™ì€ indexì˜ ê°’ë¼ë¦¬ ê³±í•œë’¤ ë‹¤ ë”í•œë‹¤
    ![image](https://user-images.githubusercontent.com/76146752/117178029-97874f80-ae0c-11eb-8190-7c8629945b32.png)

   - ìµœì™¸ê³½ì²˜ë¦¬ëŠ” ë°”ê¹¥ì— ê°€ìƒì˜ í”½ì…€ë“¤ì´ ìˆë‹¤ê³  ìƒê°í•˜ê³  ê±°ê¸°ì— ì„ì˜ì˜ ê°’ì„ ì±„ì›Œ ê³„ì‚°í•œë‹¤
      - ê°€ìƒì˜ ë°”ê¹¥í”½ì…€ì˜ **Padding**ì´ë¼ê³  í•œë‹¤
      - ë°”ê¹¥í”½ì…€ì„ ì±„ìš°ëŠ” ë°©ë²•
          - BORDER_CONSTANT : ê°™ì€ ê°’ìœ¼ë¡œ ì±„ìš´ë‹¤. ë³´í†µ 0ìœ¼ë¡œ ì±„ì›€ 000|abcd|000
          - BORDER_REPLICATE: ì™¸ê³½ì— ìˆëŠ” ê°’ìœ¼ë¡œ ì±„ìš´ë‹¤ aaa|abcd|ddd
          - BORDER_REFLECT: ê±°ìš¸ì— ë°˜ì‚¬ë˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì±„ìš´ë‹¤ cba|abcd|dcb
          - BORDER_REFLECT_101 : (OpenCV ê¸°ë³¸ë°©ì‹)BORDER_REFLECTì™€ ê°™ì€ í˜•ì‹ì¸ë° ê°€ì¥ ì™¸ê³½ì˜ ê°’ì€ ë°˜ì‚¬ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤ dcb|abcd|cba
      - ë‹¤ì–‘í•œ í˜•íƒœì˜ Kernelì´ ìˆìœ¼ë‚˜ ë³´í†µ 3x3í–‰ë ¬ì„ ë§ì´ ì“´ë‹¤ 
      ![image](https://user-images.githubusercontent.com/76146752/117178624-3744dd80-ae0d-11eb-94a9-b17d1bbb8c13.png)
          - anchor(ê³ ì •ì ): ì˜ìƒì—ì„œ Filteringì„ í•˜ë ¤ëŠ” ì§€ì ì„ ê°€ë¦¬í‚¤ëŠ” í•„í„°ì˜ ì¤‘ì•™ì ì„ ì‚¬ìš©í•œë‹¤


### Blurring
  - ì˜ìƒì„ íë¦¿/ë¶€ë“œëŸ½ê²Œ ë§Œë“œëŠ” ì‘ì—…
  - í”½ì…€ ê°„ì˜ ê°’ì˜ ì°¨ì´ë¥¼ ì¤„ì—¬ì„œ ë‚ ì¹´ë¡œìš´ ì—£ì§€ê°€ ë¬´ëŒì§€ê³  ì˜ìƒì— ìˆëŠ” Noise(ì¡ìŒ)ì´ ì‚¬ë¼ì§€ë„ë¡ í•˜ëŠ” íš¨ê³¼ê°€ ìˆë‹¤
      > ì—£ì§€(Edge): ë¬¼ì²´ê°„ì˜ ê²½ê³„ë¶€ë¶„ìœ¼ë¡œ contrast(ëŒ€ë¹„)ê°€ í¬ë‹¤
      > 
  #### í‰ê· ê°’ ë¸”ëŸ¬ë§ (Average Blur)
   - ì£¼ë³€ í”½ì…€ì˜ í‰ê· ê°’ì„ í•©ì„±ê³±í•˜ì—¬ ì ìš©ã…‡í•œë‹¤
   - ë³´í†µ 3x3ì´ë‚˜ 5x5 í•„í„°ë¥¼ ë§ì´ ì“°ë©° í•„í„°ì˜ í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ ë” íë¦¿í•˜ê²Œ ë³€í™˜ëœë‹¤
   - ì˜ìƒì´ ë­‰ê°œì ¸ ì„¸ë°€í•œ ë¶€ë¶„ì´ ì•ˆë³´ì´ëŠ” ë‹¨ì ì´ ìˆë‹¤
   ![image](https://user-images.githubusercontent.com/76146752/117179090-bdf9ba80-ae0d-11eb-8753-54d26dca1dac.png)

   - `cv2.blur(src, ksize)
      - src: blurì²˜ë¦¬í•  ì…ë ¥ì˜ìƒ
      - ksize :í•„í„°ì˜ í¬ê¸°, (width, height)íŠœí”Œë¡œ ì§€ì •

``` python
    # ì§ì  filter(kernel) ë¥¼ ë§Œë“¤ì–´ì„œ ì ìš©
    kernel = np.ones(shape=(3,3))/9
    kernel2 = np.ones(shape=(5,5))/25
    # input ì˜ìƒì— í•©ì„±ê³± ì—°ì‚°
    dst = cv2.filter2D(lenna, # input image
                        -1, # ë°˜í™˜ê°’(ì¶œë ¥ê²°ê³¼)ì˜ ë°ì´í„°íƒ€ì…ì„ ì§€ì •. -1: ì…ë ¥ì˜ìƒê³¼ ë™ì¼í•œ íƒ€ì…(íƒ€ì…ì§€ì •: cv2ì˜ ìƒìˆ˜ - cv2.CV_8U, cv2.CV_32F, cv2.CV_64F)
                        kernel # kernel(í•„í„°) í–‰ë ¬(float íƒ€ì…)
                        )
    dst2 = cv2.filter2D(lenna, -1, kernel2) # 5x5
    
    cv2.imshow('src',lenna)
    cv2.imshow('dst3x3', dst)
    cv2.imshow('dst5x5', dst2) # í•„í„°ê°€ ì»¤ì§ˆìˆ˜ë¡ ë” ë¸”ëŸ¬ë§ì´ ë¨
    cv2.waitKey(0)
    cv2.destroyAllWindows()
    
    # blur í•¨ìˆ˜ ì´ìš©
    plt.figure(figsize=(20,20))
    for idx, ksize in enumerate(range(1,8,2)): # 3,5,7
        lenna_blur = cv2.blur(lenna, (ksize,ksize))
        plt.subplot(1,4,idx+1)
        plt.imshow(cv2.cvtColor(lenna_blur, cv2.COLOR_BGR2RGB))
        plt.title(f'kernel size: {ksize}')

    plt.tight_layout()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117179430-0f09ae80-ae0e-11eb-8fce-b18049409715.png)


### Gaussian Blur
  - ëŒ€ìƒ í”½ì…€(Anchor)ì™€ ê°€ê¹Œìš´ í”½ì…€ì€ í° ê°€ì¤‘ì¹˜, ë©€ë¦¬ìˆëŠ” í”½ì…€ì€ ì‘ì€ ê°€ì¤‘ì¹˜ë¥¼ ì‚¬ìš©í•´ì„œ í‰ê· (ê°€ì¤‘í‰ê· )ì„ ê³„ì‚°í•´ì„œ í•„í„°ë§í•œë‹¤
      - Gaussian ë¶„í¬(ì •ê·œë¶„í¬)ì˜ í™•ë¥ ë°€ë„ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ í•„í„°ì— ë“¤ì–´ê°ˆ ê°’ë“¤ì„ ê³„ì‚°í•˜ì—¬ ëŒ€ìƒí”½ì…€ì„ ê¸°ì¤€ìœ¼ë¡œ ë©€ì–´ì§ˆìˆ˜ë¡ ì‘ì€ ê°’ì´ ê³±í•´ì§€ë„ë¡ í•œë‹¤
      - í‰ê· ì€ 0ìœ¼ë¡œ í•˜ê³  í‘œì¤€í¸ì°¨ë¥¼ ì¡°ì •í•˜ì—¬ íë¦¼ì˜ ì •ë„ë¥¼ ì¡°ì ˆí•œë‹¤. í‘œì¤€í¸ì°¨ ê°’ì„ í¬ê²Œ í• ìˆ˜ë¡ íë ¤ì§„ë‹¤
      - Filterì˜ Shapeì€ (8ğœ+1,8ğœ+1)  ë‚˜ (6ğœ+1,6ğœ+1) ìœ¼ë¡œ ì •í•´ì§„ë‹¤ ğœ:í‘œì¤€í¸ì°¨
  - Gaussian Blurringì€ bluríš¨ê³¼ ë¿ì•„ë‹ˆë¼ ë…¸ì´ì¦ˆì œê±°ì—ë„ ë§ì´ ì‚¬ìš©ëœë‹¤
  
  - Gaussian Blurringì€ bluríš¨ê³¼ ë¿ì•„ë‹ˆë¼ ë…¸ì´ì¦ˆì œê±°ì—ë„ ë§ì´ ì‚¬ìš©ëœë‹¤
![image](https://user-images.githubusercontent.com/76146752/117180464-2a28ee00-ae0f-11eb-83bd-8ab6cfc02b8f.png)
  - `cv2.GaussianBlur(src, ksize, sigmaX, sigmaY)'
      - src: blurë¥¼ ì ìš©í•  ì˜ìƒ
      - ksize:ì»¤ë„ í¬ê¸°(0,0)ìœ¼ë¡œ ì§€ì •í•˜ë©´ sigmaê°’ì— ì˜í•´ ê²°ì •ëœë‹¤ ë³´í†µ (0,0)ìœ¼ë¡œ ì„¤ì •
      - sigmaX:Xì¶•ë°©í–¥ sigma(í‘œì¤€í¸ì°¨) ê°’
      - sigmaY: Yì¶•ë°©í–¥ sigma(í‘œì¤€í¸ì°¨)ê°’, ìƒëµí•˜ë©´ sigmaXì™€ ê°™ì€ ê°’ ì‚¬ìš©
``` python
    lenna = cv2.imread('./images/lenna.bmp')
    lenna_gb = cv2.GaussianBlur(lenna, (0,0),3) # sigma ê°’ì— ì˜í•´ ê²°ì •

    cv2.imshow('src', lenna)
    cv2.imshow('blur', lenna_gb)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
    
    plt.figure(figsize=(20,15))
    row, col = 2,3
    plt.subplot(row,col,1)
    plt.imshow(cv2.cvtColor(lenna,cv2.COLOR_BGR2RGB))
    plt.title('ì›ë³¸')

    for idx,sigma in enumerate([1,2,3,4,5], start=2):
        blur_img = cv2.GaussianBlur(lenna, (0,0), sigma)
        plt.subplot(row,col,idx)
        plt.imshow(blur_img[:,:,::-1])
        plt.title(f'blur-sigma:{sigma}')

    plt.tight_layout()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117180818-8be95800-ae0f-11eb-878f-99808f568259.png)

### ì¡ìŒ ì œê±°
- `cv2.bilateralFilter(src, d, sigmaColor, sigmaSpace)`
    - ì–‘ë°©í–¥ í•„í„°ë¡œ ì„ ëª…ë„ëŠ” ìœ ì§€í•˜ë©´ì„œ bluringì„ ì´ìš©í•´ ë…¸ì´ì¦ˆë¥¼ ì œê±°í•œë‹¤.
    - src: ì¡ìŒì„ ì œê±°í•  ì…ë ¥ì˜ìƒ
    - d: í•„í„°ì˜ í¬ê¸° ì§€ì •. ìŒìˆ˜(-1)ì„ ì…ë ¥í•˜ë©´ sigmaSpaceê°’ì— ì˜í•´ ìë™ ê²°ì •ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ -1ì„ ì„¤ì •í•œë‹¤.
    - sigmaColor
        - ì—£ì§€ì¸ì§€ ì•„ë‹Œì§€ë¥¼ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ê°’. ì§€ì •í•œ ê°’ë³´ë‹¤ í¬ë©´ ì—£ì§€ë¼ê³  ìƒê°í•˜ê³  ì‘ìœ¼ë©´ ì—£ì§€ê°€ ì•„ë‹ˆë¼ê³  ìƒê°í•´ ê·¸ ì§€ì ì„ blurring í•œë‹¤.
        - ì´ ê°’ì„ ë„ˆë¬´ í¬ê²Œ ì£¼ë©´ ì—£ì§€ê°€ ê²€ì¶œì´ ì•ˆë˜ì„œ ê·¸ëƒ¥ Gaussian Filter ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.
    - sigmaSpace: Gaussian Filterì—ì„œ ì§€ì •í•œ í‘œì¤€í¸ì°¨

``` python
    lenna = cv2.imread('./images/Lenna.png', cv2.IMREAD_GRAYSCALE)

    dst = cv2.bilateralFilter(lenna, #ì¡ìŒì„ ì œê±°í•  ëŒ€ìƒ ì´ë¯¸ì§€
                              d = -1, #í•„í„° í¬ê¸°, -1: sigmaSpace ì„¤ì •ì— ì˜í•´ ìë™ê²°ì •
                              sigmaColor=5, # ì—£ì§€ë¼ê³  íŒë‹¨í•  pixel ê°‘ì˜ ì°¨ì´
                              sigmaSpace = 5, # ê°€ìš°ì‹œì•ˆ í•„í„°ì˜ í‘œì¤€í¸ì°¨(ì‹œê·¸ë§ˆ)ê°’
                             )
                             
     
     plt.figure(figsize=(20,10))
     plt.subplot(1,2,1)
     plt.imshow(lenna,cmap='gray')
     plt.title('ì›ë³¸')
 
     plt.subplot(1,2,2)
     plt.imshow(dst, cmap='gray')
     plt.title('ì¡ìŒì œê±°')

     plt.tight_layout()
     plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117181105-d8349800-ae0f-11eb-9b1a-d7d070fcf446.png)

``` python
    lenna_rgb = cv2.imread('./images/Lenna.png')

    dst2 = cv2.bilateralFilter(lenna_rgb, #ì¡ìŒì„ ì œê±°í•  ëŒ€ìƒ ì´ë¯¸ì§€
                              d = -1, #í•„í„° í¬ê¸°, -1: sigmaSpace ì„¤ì •ì— ì˜í•´ ìë™ê²°ì •
                              sigmaColor=15, # ì—£ì§€ë¼ê³  íŒë‹¨í•  pixel ê°‘ì˜ ì°¨ì´
                              sigmaSpace = 5, # ê°€ìš°ì‹œì•ˆ í•„í„°ì˜ í‘œì¤€í¸ì°¨(ì‹œê·¸ë§ˆ)ê°’
                             )
    plt.figure(figsize=(20,10))
    plt.subplot(1,2,1)
    plt.imshow(lenna_rgb[:,:,::-1])
    plt.title('ì›ë³¸')

    plt.subplot(1,2,2)
    plt.imshow(dst2[:,:,::-1])
    plt.title('ì¡ìŒì œê±°')

    plt.tight_layout()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117181220-f5696680-ae0f-11eb-9f91-8363349ba8f0.png)


``` python
    # íˆìŠ¤í† ê·¸ë¨
    hist_org = cv2.calcHist([lenna], [0],None, [256],[0,256])
    hist_noise = cv2.calcHist([dst], [0],None, [256],[0,256])

    plt.figure(figsize=(15,7))
    plt.subplot(1,2,1)
    plt.plot(hist_org)

    plt.subplot(1,2,2)
    plt.plot(hist_noise)
    plt.tight_layout()
    plt.show()
```
![image](https://user-images.githubusercontent.com/76146752/117181291-07e3a000-ae10-11eb-8ead-daff250da492.png)

## ìƒ¤í”„ë‹(Shappen)
- Blurringì˜ ë°˜ëŒ€ë¡œ íë¦°ì˜ìƒì„ ì„ ëª…í•œ ì˜ìƒìœ¼ë¡œ ë§Œë“œëŠ” ì‘ì—….
- ì´ë¯¸ì§€ì˜ ì—£ì§€(edge-ì‚¬ë¬¼ì˜ ìœ¤ê³½ë¶€ë¶„)ì˜ ëŒ€ë¹„ë¥¼ í¬ê²Œ ë§Œë“¤ì–´ ì¤€ë‹¤.
    - ì´ë¯¸ì§€ ì „ì²´ë¥¼ ë‹¤ ì„ ëª…í•˜ê²Œ í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ìœ¤ê³½(edge)ë§Œ ì„ ëª…í•˜ê²Œ ë§Œë“¤ì–´ ëª…ì•”ë¹„(contrast)ë¥¼ í¬ê²Œí•´ ì„ ëª…í•˜ê²Œ ë³´ì´ê²Œ í•œë‹¤. 
- Unsharp mask(ì–¸ìƒ¤í”„ ë§ˆìŠ¤í¬) í•„í„°ë§
    - Unsharpí•œ ì˜ìƒì„ ì´ìš©í•´ Sharpí•œ ì˜ìƒì„ ë§Œë“ ë‹¤ê³  í•´ì„œ Unsharp mask filtering ì´ë¼ê³  í•œë‹¤.
    - ì›ë³¸ ì´ë¯¸ì§€ì—ì„œ blurring í•œ ì´ë¯¸ì§€ë¥¼ ëº€ë‹¤ìŒ ê·¸ê²ƒì„ ì›ë³¸ì´ë¯¸ì§€ì— ë‹¤ì‹œ ë”í•œë‹¤.
        
               h(x) = f(x)+ğ›¼(f(x)-ğ‘“Â¯(ğ‘¥))
                   f(x): ì›ë³¸ ì´ë¯¸ì§€
            ğ‘“Â¯(ğ‘¥): ì›ë³¸ì´ë¯¸ì§€ë¥¼ blurringí•œ ì´ë¯¸ì§€
                ğ›¼ : ğ‘ â„ğ‘ğ‘ğ‘ğ‘’ğ‘›ğ‘–ğ‘›ğ‘”ì •ë„ì¡°ì ˆê°’
        

- ì œê³µ í•¨ìˆ˜ëŠ” ì—†ê³  ìœ„ ê³µì‹ì„ êµ¬í˜„í•œë‹¤.

```
- add(src, src)
- substract(src,src)
- addWeighted(src, srcê³±í•  ì •ìˆ˜, src2, src2ê³±í•  ì •ìˆ˜, ë”í•´ì¤„ê°’) # ê°€ì¤‘í•©
- np.clip()
```

``` python
    rose = cv2.imread('./images/rose.bmp',cv2.IMREAD_GRAYSCALE)
    # blurring
    blur_rose = cv2.GaussianBlur(rose, (0,0),3)
    dst = cv2.addWeighted(rose,1,blur_rose, -1,128)
    dst = cv2.addWeighted(rose,2,blur_rose, -1,0) # 2*rose(ì›ë³¸) + -1*blur_rose(bluring)

    cv2.imshow('src',rose)
    cv2.imshow('blur',blur_rose)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
    
    # alphaë¥¼ ì´ìš©í•´ ì„ ëª…ë„ë¥¼ ì¡°ì ˆ
    rose = cv2.imread('./images/rose.bmp',cv2.IMREAD_GRAYSCALE)
    # blurring
    blur_rose = cv2.GaussianBlur(rose, (0,0),3)
    alpha1 = 0.5
    alpha2 = 1
    alpha3 = 2
    dst1 = cv2.addWeighted(rose,(1+alpha1), blur_rose, -1*alpha1,0)
    dst2 = cv2.addWeighted(rose,(1+alpha2), blur_rose, -1*alpha2,0)
    dst3 = cv2.addWeighted(rose,(1+alpha3), blur_rose, -1*alpha3,0)

    cv2.imshow('src',rose)
    cv2.imshow('dst1',dst1)
    cv2.imshow('dst2',dst2)
    cv2.imshow('dst3',dst3)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
    
    
    import matplotlib.pyplot as plt
    plt.figure(figsize=(20,20))
    plt.subplot(1,3,1)
    plt.imshow(dst1,cmap='gray')
    plt.title('alpha=0.5')

    plt.subplot(1,3,2)
    plt.imshow(dst2,cmap='gray')
    plt.title('alpha=1')

    plt.subplot(1,3,3)
    plt.imshow(dst3,cmap='gray')
    plt.title('alpha=2')
    plt.tight_layout()
    plt.show()
    
```
![image](https://user-images.githubusercontent.com/76146752/117181765-8d675000-ae10-11eb-9813-d4cf94209cdb.png)
