### 도형 그리기
  - 각 함수들은 원본 이미지에 도형을 그린다
  - cv2.line(img, pt1,pt2,color, thickness=None, lineType=None, shift) : img
      - 선그리기
      - 매개변수
          - img : 그릴 대상 이미지
          - pt1, pt2: 직선의 시작/ 끝점. 각각 튜플(x, y)
          - color: 선색 또는 밝기( B,G,R ) 튜플 또는 정수
          - thickness: 선 두께, 기본값=1 (픽셀)
          - lineType: 선타입. cv2.Line_4, cv2.LINE_8(기본값), cv2.LINE_AA(부드러운 형태) 중 선택. 일직선이 아니면 LINE_AA(부드러운 형태) 중 선택. 일직선이 아니면 LINE_AA를 준다
          - shift: 그리기 좌표값의 축소 비율
      - 반환값
  - cv2.rectangle(img, pt1, pt2, color, thickness=None, lineType=None, shift=None): img
  - cv2.rectangle(img, rec, color, thickness=None, lineType=None, shift=None): img
      - 사각형 그리기
      - 매개변수
          - pt1, pt2 : 좌측상단, 우측상단 좌표, 튜플 (x,y)
          - rec: 사각형의 위치정보(x,y,w,h) 튜플 지정. (좌상단좌표: ( x,y ))
          - thickness: 도형에서는 -1을 주면 내부를 채운다
  - cv2.circle(img, center, raedius, color, thickness=None, lineStyle=None, shift): img
       - 원그리기. 원의 lineType은 LINE_AA (안티 알리애싱)을 주면 부드럽게 그려진다
       - 매개변수
          - pts: 다각형의 외곽점들의 좌표배열. ndarray 리스트(ex: [np.array[[10,10],[50,50],[10,10]])] => 리스트로 감싸서 넣는다
          - isClosed: bool. 폐곡선 여부. 시작점과 끝점을 연결할지 여부

  - cv2.putText(img, text, org, fontFace, fontScale, color, thickness= None, lineType=None, bottomLeftOrigin=None): img
      - 문자열을 출력. 영문/숫자만 지원( 한글 지원안함)
      - 매개변수
          - text: 출력할 문자열
          - org: 이미지에서 문자열을 출력할 위치. 좌측 하단의 좌표를 튜플로 지정(x,y)
          - fontFace: 폰트종류. cv2.FONT_HERSHEY_ 로 시작하는 상수 중 선택
          - fontScale: 폰트 크기 확대/축소 비율. 1이 기본. 1을 기준으로 정한다
          - bottomLeftOrigin: bool. True이면 이미지의 좌측하단을 원점으로 간주. 거의 기본값 사용

``` python
    import cv2
    import numpy as np
    
    img = np.full(shape=(400,400,3), fill_value=255, dtype=np.uint8)
    
    # 선
    cv2.line(img, (50,50),(300,50),(0,0,255),10) # (50,50)
    cv2.line(img, (50,50), (150,150), (0,0,255))
    
    # 사각형
    cv2.rectangle(img, (50,200), # 좌상단(xmin,ymin)
                  (300,350), # 우하단(xmax, ymax)
                  color = (255,0,0))
    cv2.rectangle(img,(200,200,50,150), # 좌상단 x,y, width, height
                  color = (0,255,0),
                  thickness = -1) # 두께: -1 색을 채운다
    
    # 원
    cv2.circle(img, (300,100), # center x,y
               30, # 반지름
               (255,255,0), # color
               -1, # 두께: -1 : 채운다
               lineType = cv2.LINE_AA)
    cv2.circle(img, (300,100), # center x,y
               60, # 반지름
               (255,255,0), # color
               3, # 두께: -1 채운다
               lineType=cv2.LINE_4)
               
    cv2.circle(img, (300,100), # center x,y
               60, # 반지름
               (255,255,0), # color
               3, # 두께: -1 채운다
               lineType = cv2.LINE_4)
               
               
    # 다각형
    pts = np.array([[250,200],
                    [300,200],
                    [350,300],
                    [250,300]])
    
    cv2.polylines(img, [pts], # 연결할 좌표
                  True, # 시작점과 끝점을 연결할 지 여부
                  color = (255,0,0), # 선색
                  thickness = 2 # 선 두께
                  )
    # 텍스트
    text = "Hello OpenCV"
    cv2.putText(img,
                text, # 이미지에 그릴 글자들
                (50,300), # 글씨를 출력할 위치
                cv2.FONT_HERSHEY_SIMPLEX,
                1, # FONT SIZE(글씨크기)
                2, # 두께
                cv2.LINE_AA
                )
    
    # opencv 폰트들은 한글을 지원하지 않아 한글 깨짐
    
    cv2.imshow('img',img)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
```
    
 ### Lenna Image에 텍스트 그리기
 ``` python
     txt = 'Lenna Forsen'
     lenna_txt = lenna.copy()
     cv2.putText(lenna_txt,txt,
                (150,450),
                cv2.FONT_HERSHEY_SIMPLEX,
                1.5,
                color=(255,255,255),
                thickness=2)
     cv2.imshow('src',lenna)
     cv2.imshow('txt',lenna_txt)
     cv2.waitKey(0)
     cv2.destroyAllWindows()
     
     cv2.imshow('lenna',lenna)
     cv2.waitKey(0)
     cv2.destroyAllWindows()
     
     # 한글 출력 => pillow 라이브러리 이용
     # Malgun Gothic 폰트 경로 조회
     import matplotlib as mpl
     import matplotlib.font_manager as fm
     
     font_list = fm.findSystemFonts(fontpaths=None, fontext = 'ttf')
     
     malgun_list = [font for font in fontlist if 'malgun' in font.lower()]
     
     font_path = 'C:\\Windows\\Fonts\\malgun.ttf'
     
     import numpy as np
     from PIL import ImageFont, ImageDraw, Image
     import cv2
     
     img = np.full((400,400,3), fill_value=225, dtype= np.uint8)
     
     # Pillow를 이용해 이미지에 한글을 출력
     
     # 폰트 설정
     font = ImageFont.truetype(font_path, 20) # 폰트경로, 폰트 크기(기본:10)
     
     #ndarray(이미지)를 pillow image 형식으로 변환
     img_pil = Image.fromarray(img)
     draw = ImageDraw.Draw(img_pil)
     draw.text((60,70), "안녕하세요 OpenCV입니다.", font=font, fill = (0,0,255))
     
     # pillow 이미지를 ndarray 변환(opencv 형태로)
     img = np.array(img_pil)
     
     # 영문
     cv2.putText(img, "hello world", (150,120), cv2.FONT_HERSHEY_SIMPLEX,0.5,(0,0,0))
     cv2.imshow('img',img)
     cv2.waitKey(0)
     cv2.destroyAllWindows()
     
     
 ```
     
  ### 이미지 Crop
   - opencv는 이미지를 numpy의 ndarray를 이용해 연산하기 때문에 image의 특정 영역의 좌표만 알면 그 영역을 잘라낼 수 있다

``` python
    lenna = cv2.imread('./images/lenna.bmp')
    
    height_s = int(lenna.shape[0]/4) # 시작 height
    height_e = height_s*3
    width_s = int(lenna.shape[1]/4) # 시작 width
    width_e = width_s*3
    
    print(height_s, height_e, width_s, width_e)
    
    cropped_lenna = lenna[height_s:height_e,width_s:width_e]
    
    cv2.imshow('lenna',lenna)
    cv2.imshow('cropped',cropped_lenna)
    cv2.waitKey(0)
    cv2.destroyAllWindows()
```

### 영상의 기하학적 변환
  - 영상을 구성하는 픽셀의 배치구조를 변경함으로써 전체 영상의 모양을 바꾸는 작업

####  이동변환 (Translation Transformation)

  - 가로 또는 세로 방향으로 영상을 이동시키는 변환
  - X축과 Y축 방향으로 이동 변위를 지정
  - 그림을 가로(X축) 으로 a 만큼, 세로(Y축)dmfh b만큼 이동할 경우
![image](https://user-images.githubusercontent.com/76146752/117688877-2a046600-b1f4-11eb-873d-2f1848479ab7.png)

 - 각좌표들을(𝑎,𝑏)만큼더한다.{𝑥′=𝑥+𝑎
                         {𝑦′=𝑦+𝑏
 - 행렬곱으로 표현
![image](https://user-images.githubusercontent.com/76146752/117689086-6041e580-b1f4-11eb-8b1e-3e2887d3e693.png)

  - cv2.warpAffine(src, M, dsize, dst=None, flags=None, borderMode=None, borderValue=None)
     - 매개변수
        - src : 원본영상
        - M : 2 x 3 어파인 변환 행렬. 실수형
        - dsize: 결과 영상의 크기를 (w, h)튜플로 지정. (0,0)이면 같은 크기
        - flags : 보간법
        - borderModel: 영상이 이동해서 생기는 빈 공간을 채우는 방식
        -  default: cv2.BORDER_CONSTANT(검정색으로 채운다)
        -  borderValue: cv2.BORDER_CONSTANT 일 때 채울 색 0: 검정, 1:흰색

``` python
    import cv2
    import numpy as np
    
    lenna = cv2.imread('./images/lenna.bmp')
    a,b = 100,200 # 가로 이동범위, 세로이동 범위
    
    aff_amt

         
                  
     
     
    
    
    








